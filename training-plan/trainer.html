<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#15304a" />
    <meta
      name="description"
      content="Simple plan editor for updating student training plans and publishing updates."
    />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="stylesheet" href="styles.css" />
    <title>Plan Editor</title>
  </head>
  <body>
    <div class="ambient-bg" aria-hidden="true"></div>

    <header class="app-header">
      <div class="header-row">
        <p class="eyebrow">Training Plan</p>
        <a href="index.html" class="btn ghost">Client View</a>
      </div>
      <h1>Plan Editor</h1>
      <p class="subtitle">Edit a student plan using simple fields, then post updates live.</p>
    </header>

    <main class="app-shell trainer-shell" aria-live="polite">
      <section class="panel">
        <h2 class="section-title">Student Selector</h2>
        <div class="toolbar">
          <label class="field compact-field">
            <span>Student</span>
            <select id="clientSelect"></select>
          </label>
          <button id="addClientBtn" class="btn ghost" type="button">Add Student</button>
          <button id="removeClientBtn" class="btn ghost" type="button">Remove Student</button>
          <button id="shareClientBtn" class="btn" type="button">Share Student Link</button>
          <button id="openClientBtn" class="btn ghost" type="button">Open Student View</button>
        </div>
        <p id="editorStatus" class="status-line">Loading plan data...</p>
      </section>

      <section class="panel">
        <h2 class="section-title">Student Profile</h2>
        <div class="form-grid">
          <label class="field">
            <span>Student Name</span>
            <input id="nameInput" type="text" />
          </label>
          <label class="field">
            <span>Coach Name</span>
            <input id="trainerInput" type="text" />
          </label>
          <label class="field">
            <span>Program Start Date</span>
            <input id="startDateInput" type="text" />
          </label>
          <label class="field">
            <span>Program End Date</span>
            <input id="endDateInput" type="text" />
          </label>
          <label class="field">
            <span>Primary Goal</span>
            <input id="goalInput" type="text" />
          </label>
          <label class="field">
            <span>Coached Session Day</span>
            <input id="coachedDayInput" type="text" />
          </label>
          <label class="field">
            <span>Independent Day 1</span>
            <input id="indDayOneInput" type="text" />
          </label>
          <label class="field">
            <span>Independent Day 2</span>
            <input id="indDayTwoInput" type="text" />
          </label>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Goals</h2>
        <div class="form-grid">
          <label class="field field-wide">
            <span>Primary Goal (Student's words)</span>
            <input id="goalOwnWordsInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>What Success Looks Like</span>
            <input id="successInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>One Thing to Improve</span>
            <input id="improveInput" type="text" />
          </label>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Weekly Session Editor</h2>
        <div class="toolbar">
          <label class="field compact-field">
            <span>Week</span>
            <select id="weekSelect"></select>
          </label>
        </div>

        <div class="form-grid" style="margin-top: 0.6rem;">
          <label class="field">
            <span>Week Date Range</span>
            <input id="weekDateRangeInput" type="text" />
          </label>
          <label class="field">
            <span>Phase</span>
            <input id="weekPhaseInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Week Focus Tagline</span>
            <input id="weekTaglineInput" type="text" />
          </label>
        </div>

        <div id="sessionsEditor" class="session-editor-grid"></div>

        <h3 class="section-title" style="margin-top: 0.9rem;">Weekly Check-In</h3>
        <div class="form-grid">
          <label class="field">
            <span>Energy</span>
            <select id="energyInput">
              <option value="Low">Low</option>
              <option value="OK">OK</option>
              <option value="Great">Great</option>
            </select>
          </label>
          <label class="field">
            <span>Soreness</span>
            <select id="sorenessInput">
              <option value="None">None</option>
              <option value="Mild">Mild</option>
              <option value="High">High</option>
            </select>
          </label>
          <label class="field">
            <span>Sessions Completed</span>
            <input id="completedInput" type="number" min="0" max="3" step="1" />
          </label>
          <label class="field">
            <span>Next Week</span>
            <select id="nextWeekInput">
              <option value="Continue">Continue</option>
              <option value="Adjust">Adjust</option>
            </select>
          </label>
          <label class="field field-wide">
            <span>What Went Well / Challenges</span>
            <input id="winsInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Coach Notes</span>
            <input id="trainerNotesInput" type="text" />
          </label>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Final Assessment</h2>
        <div class="form-grid">
          <label class="field">
            <span>Assessment Date</span>
            <input id="assessmentDateInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>What I'm Most Proud Of</span>
            <input id="proudInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>What to Keep Working On</span>
            <input id="keepWorkingInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Coach Summary</span>
            <input id="summaryInput" type="text" />
          </label>
        </div>

        <div class="table-wrap" style="margin-top: 0.7rem;">
          <table>
            <thead>
              <tr>
                <th>Assessment</th>
                <th>Starting Score</th>
                <th>Final Score</th>
                <th>Change</th>
              </tr>
            </thead>
            <tbody id="assessmentTableBody"></tbody>
          </table>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Post Updates</h2>
        <p class="section-subtitle">Use your coach publishing key to post updates live.</p>
        <div class="form-grid">
          <label class="field field-wide">
            <span>Publishing Key</span>
            <input id="tokenInput" type="password" autocomplete="off" placeholder="Enter coach key" />
          </label>
        </div>

        <label class="toggle-row">
          <input id="rememberTokenInput" type="checkbox" />
          <span>Remember key on this device</span>
        </label>

        <div class="toolbar">
          <button id="downloadBackupBtn" class="btn ghost" type="button">Download Backup</button>
          <button id="publishBtn" class="btn" type="button">Post Updates Live</button>
        </div>

        <p id="publishStatus" class="status-line"></p>
      </section>
    </main>

    <footer class="app-footer">
      <p>
        Edits save in this page immediately. Click "Post Updates Live" to make changes visible to students.
      </p>
    </footer>

    <script src="trainer.js" defer></script>
  </body>
</html>
