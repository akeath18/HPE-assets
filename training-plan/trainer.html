<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#15304a" />
    <meta
      name="description"
      content="Trainer studio for creating templates, assigning client plans, and publishing updates."
    />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="stylesheet" href="styles.css" />
    <title>Trainer Studio</title>
  </head>
  <body>
    <div class="ambient-bg" aria-hidden="true"></div>

    <header class="app-header">
      <div class="header-row">
        <p class="eyebrow">Training Plan</p>
        <a href="index.html" class="btn ghost">Client View</a>
      </div>
      <h1>Trainer Studio</h1>
      <p class="subtitle">Create templates, assign plans to clients, and publish updates.</p>
    </header>

    <main class="app-shell trainer-shell" aria-live="polite">
      <section class="panel">
        <h2 class="section-title">Template Library</h2>
        <div class="toolbar">
          <label class="field compact-field">
            <span>Template</span>
            <select id="templateSelect"></select>
          </label>
          <button id="newTemplateBtn" class="btn ghost" type="button">New Template</button>
          <button id="saveTemplateBtn" class="btn ghost" type="button">Save From Current Client</button>
          <button id="deleteTemplateBtn" class="btn ghost" type="button">Delete Template</button>
          <button id="applyTemplateBtn" class="btn" type="button">Apply Template to Client</button>
        </div>
        <div class="form-grid" style="margin-top: 0.6rem;">
          <label class="field field-wide">
            <span>Template Name</span>
            <input id="templateNameInput" type="text" />
          </label>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Client Manager</h2>
        <div class="toolbar">
          <label class="field compact-field">
            <span>Client</span>
            <select id="clientSelect"></select>
          </label>
          <button id="addClientBtn" class="btn ghost" type="button">New Client from Template</button>
          <button id="removeClientBtn" class="btn ghost" type="button">Remove Client</button>
          <button id="shareClientBtn" class="btn" type="button">Share Client Link</button>
          <button id="openClientBtn" class="btn ghost" type="button">Open Client View</button>
        </div>
        <p id="editorStatus" class="status-line">Loading plan data...</p>
      </section>

      <section class="panel">
        <h2 class="section-title">Client Profile</h2>
        <div class="form-grid">
          <label class="field">
            <span>Client Name</span>
            <input id="nameInput" type="text" />
          </label>
          <label class="field">
            <span>Trainer Name</span>
            <input id="trainerInput" type="text" />
          </label>
          <label class="field">
            <span>Program Start Date</span>
            <input id="startDateInput" type="text" />
          </label>
          <label class="field">
            <span>Program End Date</span>
            <input id="endDateInput" type="text" />
          </label>
          <label class="field">
            <span>Primary Goal</span>
            <input id="goalInput" type="text" />
          </label>
          <label class="field">
            <span>Coached Session Day</span>
            <input id="coachedDayInput" type="text" />
          </label>
          <label class="field">
            <span>Independent Day 1</span>
            <input id="indDayOneInput" type="text" />
          </label>
          <label class="field">
            <span>Independent Day 2</span>
            <input id="indDayTwoInput" type="text" />
          </label>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Goals</h2>
        <div class="form-grid">
          <label class="field field-wide">
            <span>Primary Goal (Client words)</span>
            <input id="goalOwnWordsInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>What Success Looks Like</span>
            <input id="successInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>One Thing to Improve</span>
            <input id="improveInput" type="text" />
          </label>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Weekly Session Editor</h2>
        <div class="toolbar">
          <label class="field compact-field">
            <span>Week</span>
            <select id="weekSelect"></select>
          </label>
        </div>

        <div class="form-grid" style="margin-top: 0.6rem;">
          <label class="field">
            <span>Week Date Range</span>
            <input id="weekDateRangeInput" type="text" />
          </label>
          <label class="field">
            <span>Phase</span>
            <input id="weekPhaseInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Week Focus Tagline</span>
            <input id="weekTaglineInput" type="text" />
          </label>
        </div>

        <div id="sessionsEditor" class="session-editor-grid"></div>

        <h3 class="section-title" style="margin-top: 0.9rem;">Weekly Check-In</h3>
        <div class="form-grid">
          <label class="field">
            <span>Energy</span>
            <select id="energyInput">
              <option value="Low">Low</option>
              <option value="OK">OK</option>
              <option value="Great">Great</option>
            </select>
          </label>
          <label class="field">
            <span>Soreness</span>
            <select id="sorenessInput">
              <option value="None">None</option>
              <option value="Mild">Mild</option>
              <option value="High">High</option>
            </select>
          </label>
          <label class="field">
            <span>Sessions Completed</span>
            <input id="completedInput" type="number" min="0" max="3" step="1" />
          </label>
          <label class="field">
            <span>Next Week</span>
            <select id="nextWeekInput">
              <option value="Continue">Continue</option>
              <option value="Adjust">Adjust</option>
            </select>
          </label>
          <label class="field field-wide">
            <span>What Went Well / Challenges</span>
            <input id="winsInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Trainer Notes</span>
            <input id="trainerNotesInput" type="text" />
          </label>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Final Assessment</h2>
        <div class="form-grid">
          <label class="field">
            <span>Assessment Date</span>
            <input id="assessmentDateInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Most Proud Of</span>
            <input id="proudInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Keep Working On</span>
            <input id="keepWorkingInput" type="text" />
          </label>
          <label class="field field-wide">
            <span>Trainer Summary</span>
            <input id="summaryInput" type="text" />
          </label>
        </div>

        <div class="table-wrap" style="margin-top: 0.7rem;">
          <table>
            <thead>
              <tr>
                <th>Assessment</th>
                <th>Starting Score</th>
                <th>Final Score</th>
                <th>Change</th>
              </tr>
            </thead>
            <tbody id="assessmentTableBody"></tbody>
          </table>
        </div>
      </section>

      <section class="panel">
        <h2 class="section-title">Publish Live</h2>
        <p class="section-subtitle">Only trainer devices should use this page and key.</p>
        <div class="form-grid">
          <label class="field field-wide">
            <span>Trainer Publish Key</span>
            <input id="tokenInput" type="password" autocomplete="off" placeholder="Enter GitHub key" />
          </label>
        </div>

        <label class="toggle-row">
          <input id="rememberTokenInput" type="checkbox" />
          <span>Remember key on this device</span>
        </label>

        <div class="toolbar">
          <button id="downloadBackupBtn" class="btn ghost" type="button">Download Backup</button>
          <button id="publishBtn" class="btn" type="button">Publish Updates Live</button>
        </div>

        <p id="publishStatus" class="status-line"></p>
      </section>
    </main>

    <footer class="app-footer">
      <p>
        Workflow: select template, create/update client plan, then publish and share client link.
      </p>
    </footer>

    <script src="trainer-config.js" defer></script>
    <script src="trainer.js" defer></script>
  </body>
</html>
